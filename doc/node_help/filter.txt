filter-function

example:
analog("a0").with_filter_callback( [&] (Device& dev) {
    const int buflen=100;
    static long sum=0;
    static long values_count=0;
    int v=dev.measured_value().as_int();
    sum += v;
    values_count ++;
    if(values_count >= buflen) {
        dev.measured_value().from(sum/values_count);
        values_count = 0;
        sum = 0;
        return true;
    }
    return false;
});
