#!/usr/bin/env bash

function usage() {
cat << EOF
Syntax: ulnoiot_shell

Allow to execute common actions with text/terminal-user-interface interface
for ulnoiot.

EOF
}

if [[ $# -gt 0 || "$*" = "help" || "$*" = "-h" || "$*" = "--help" ]]; then
    usage
    exit 1
fi

[ "$IOTEMPOWER_ACTIVE" = "yes" ] || { echo "IoT empower not active, aborting." 1>&2;exit 1; }

export NODE_PATH="/usr/lib/node_modules:$IOTEMPOWER_LOCAL/node_modules"
exec node "$IOTEMPOWER_ROOT/bin/user_menu.js"